function cov_vzjvg0kmh(){var path="C:\\Users\\Murat\\Desktop\\gl2\\gl_projet\\index.js";var hash="9eabc9c4fca37aa372514e1f1f699ac6ab9656d4";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Murat\\Desktop\\gl2\\gl_projet\\index.js",statementMap:{"0":{start:{line:2,column:14},end:{line:2,column:32}},"1":{start:{line:3,column:13},end:{line:3,column:22}},"2":{start:{line:4,column:9},end:{line:4,column:22}},"3":{start:{line:5,column:13},end:{line:5,column:17}},"4":{start:{line:7,column:10},end:{line:7,column:42}},"5":{start:{line:8,column:15},end:{line:8,column:31}},"6":{start:{line:9,column:0},end:{line:9,column:27}},"7":{start:{line:12,column:0},end:{line:12,column:27}},"8":{start:{line:13,column:0},end:{line:13,column:26}},"9":{start:{line:14,column:0},end:{line:14,column:57}},"10":{start:{line:15,column:0},end:{line:15,column:42}},"11":{start:{line:16,column:0},end:{line:16,column:77}},"12":{start:{line:17,column:0},end:{line:17,column:52}},"13":{start:{line:22,column:2},end:{line:28,column:3}},"14":{start:{line:29,column:2},end:{line:29,column:23}},"15":{start:{line:33,column:2},end:{line:33,column:26}},"16":{start:{line:37,column:13},end:{line:37,column:27}},"17":{start:{line:38,column:2},end:{line:38,column:22}},"18":{start:{line:40,column:13},end:{line:40,column:44}},"19":{start:{line:41,column:2},end:{line:41,column:48}},"20":{start:{line:43,column:4},end:{line:43,column:26}},"21":{start:{line:45,column:2},end:{line:45,column:26}},"22":{start:{line:50,column:9},end:{line:50,column:23}},"23":{start:{line:51,column:13},end:{line:51,column:30}},"24":{start:{line:52,column:10},end:{line:52,column:80}},"25":{start:{line:52,column:32},end:{line:52,column:46}},"26":{start:{line:52,column:59},end:{line:52,column:78}},"27":{start:{line:54,column:0},end:{line:54,column:24}},"28":{start:{line:55,column:0},end:{line:55,column:30}},"29":{start:{line:56,column:0},end:{line:56,column:23}},"30":{start:{line:57,column:0},end:{line:57,column:25}},"31":{start:{line:59,column:11},end:{line:59,column:42}},"32":{start:{line:60,column:0},end:{line:60,column:46}},"33":{start:{line:62,column:2},end:{line:62,column:28}},"34":{start:{line:64,column:0},end:{line:64,column:19}},"35":{start:{line:69,column:13},end:{line:69,column:27}},"36":{start:{line:70,column:15},end:{line:70,column:32}},"37":{start:{line:71,column:12},end:{line:71,column:98}},"38":{start:{line:71,column:38},end:{line:71,column:56}},"39":{start:{line:71,column:73},end:{line:71,column:96}},"40":{start:{line:72,column:2},end:{line:78,column:3}},"41":{start:{line:74,column:6},end:{line:74,column:58}},"42":{start:{line:74,column:43},end:{line:74,column:56}},"43":{start:{line:77,column:4},end:{line:77,column:40}},"44":{start:{line:80,column:13},end:{line:80,column:44}},"45":{start:{line:81,column:2},end:{line:81,column:48}},"46":{start:{line:83,column:4},end:{line:83,column:28}},"47":{start:{line:85,column:2},end:{line:85,column:21}},"48":{start:{line:90,column:12},end:{line:90,column:30}},"49":{start:{line:91,column:11},end:{line:91,column:44}},"50":{start:{line:91,column:31},end:{line:91,column:43}},"51":{start:{line:92,column:2},end:{line:97,column:3}},"52":{start:{line:93,column:4},end:{line:93,column:23}},"53":{start:{line:96,column:4},end:{line:96,column:45}},"54":{start:{line:101,column:2},end:{line:101,column:38}},"55":{start:{line:103,column:0},end:{line:103,column:33}}},fnMap:{"0":{name:"mainmenu",decl:{start:{line:20,column:9},end:{line:20,column:17}},loc:{start:{line:20,column:35},end:{line:30,column:1}},line:20},"1":{name:"findall",decl:{start:{line:32,column:9},end:{line:32,column:16}},loc:{start:{line:32,column:34},end:{line:34,column:1}},line:32},"2":{name:"addContact",decl:{start:{line:36,column:9},end:{line:36,column:19}},loc:{start:{line:36,column:37},end:{line:46,column:1}},line:36},"3":{name:"finished",decl:{start:{line:42,column:11},end:{line:42,column:19}},loc:{start:{line:42,column:24},end:{line:44,column:3}},line:42},"4":{name:"updateContact",decl:{start:{line:48,column:9},end:{line:48,column:22}},loc:{start:{line:48,column:31},end:{line:65,column:1}},line:48},"5":{name:"(anonymous_5)",decl:{start:{line:52,column:25},end:{line:52,column:26}},loc:{start:{line:52,column:32},end:{line:52,column:46}},line:52},"6":{name:"(anonymous_6)",decl:{start:{line:52,column:52},end:{line:52,column:53}},loc:{start:{line:52,column:59},end:{line:52,column:78}},line:52},"7":{name:"finished",decl:{start:{line:61,column:9},end:{line:61,column:17}},loc:{start:{line:61,column:22},end:{line:63,column:1}},line:61},"8":{name:"deleteContact",decl:{start:{line:67,column:9},end:{line:67,column:22}},loc:{start:{line:67,column:31},end:{line:86,column:1}},line:67},"9":{name:"(anonymous_9)",decl:{start:{line:71,column:27},end:{line:71,column:28}},loc:{start:{line:71,column:38},end:{line:71,column:56}},line:71},"10":{name:"(anonymous_10)",decl:{start:{line:71,column:62},end:{line:71,column:63}},loc:{start:{line:71,column:73},end:{line:71,column:96}},line:71},"11":{name:"(anonymous_11)",decl:{start:{line:74,column:32},end:{line:74,column:33}},loc:{start:{line:74,column:43},end:{line:74,column:56}},line:74},"12":{name:"finished",decl:{start:{line:82,column:11},end:{line:82,column:19}},loc:{start:{line:82,column:24},end:{line:84,column:3}},line:82},"13":{name:"searchContact",decl:{start:{line:88,column:9},end:{line:88,column:22}},loc:{start:{line:88,column:40},end:{line:98,column:1}},line:88},"14":{name:"(anonymous_14)",decl:{start:{line:91,column:25},end:{line:91,column:26}},loc:{start:{line:91,column:31},end:{line:91,column:43}},line:91},"15":{name:"listening",decl:{start:{line:100,column:9},end:{line:100,column:18}},loc:{start:{line:100,column:20},end:{line:102,column:1}},line:100}},branchMap:{"0":{loc:{start:{line:52,column:24},end:{line:52,column:79}},type:"binary-expr",locations:[{start:{line:52,column:25},end:{line:52,column:46}},{start:{line:52,column:52},end:{line:52,column:78}}],line:52},"1":{loc:{start:{line:71,column:26},end:{line:71,column:97}},type:"binary-expr",locations:[{start:{line:71,column:27},end:{line:71,column:56}},{start:{line:71,column:62},end:{line:71,column:96}}],line:71},"2":{loc:{start:{line:72,column:2},end:{line:78,column:3}},type:"if",locations:[{start:{line:72,column:2},end:{line:78,column:3}},{start:{line:72,column:2},end:{line:78,column:3}}],line:72},"3":{loc:{start:{line:92,column:2},end:{line:97,column:3}},type:"if",locations:[{start:{line:92,column:2},end:{line:97,column:3}},{start:{line:92,column:2},end:{line:97,column:3}}],line:92}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"9eabc9c4fca37aa372514e1f1f699ac6ab9656d4"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_vzjvg0kmh=function(){return actualCoverage;};}return actualCoverage;}cov_vzjvg0kmh();//imports
var express=(cov_vzjvg0kmh().s[0]++,require('express'));// on utilise express pour faciliter les fonctionnalités API
var server=(cov_vzjvg0kmh().s[1]++,express());var fs=(cov_vzjvg0kmh().s[2]++,require('fs'));// on utilise un fichier json pour sauvegarder les contacts donc on as besoin de fs de nodejs
const PORT=(cov_vzjvg0kmh().s[3]++,8080);// on utilise le port 8080 localhost
var data=(cov_vzjvg0kmh().s[4]++,fs.readFileSync('Contacts.json'));// on ouvre notre fichier contact
var contacts=(cov_vzjvg0kmh().s[5]++,JSON.parse(data));// on le parse pour pouvoir le modifier
cov_vzjvg0kmh().s[6]++;server.use(express.json());// les routes qu'on utilise pour gérer nos contacts .get c'est pour chercher, .post pour ajouter, .put pour mettre à jour et .delete pour supprimer
cov_vzjvg0kmh().s[7]++;server.get('/all',findall);cov_vzjvg0kmh().s[8]++;server.get('/',mainmenu);cov_vzjvg0kmh().s[9]++;server.post('/add/:nom/:prenom/:tel/:mail?',addContact);cov_vzjvg0kmh().s[10]++;server.get('/search/:nom',searchContact);cov_vzjvg0kmh().s[11]++;server.put('/update/:nom/:prenom/:nnom/:nprenom/:tel/:mail?',updateContact);cov_vzjvg0kmh().s[12]++;server.delete('/delete/:nom/:prenom',deleteContact);// notre menu principale, ce qu'on va voir quand on va lancer le serveur.
function mainmenu(request,response){cov_vzjvg0kmh().f[0]++;var reply;cov_vzjvg0kmh().s[13]++;reply={"/all":"Afficher tous les contacts","/search/nom":"Afficher un contact par nom ","/delete/nom/prenom":"Supprimer un contact ","/add/nom/prenom/tel/mail":"Ajouter un contact ","/update/nom/prenom/nouveau nom/nouveau prenom/tel/mail":"Mettre à jour un contact "};cov_vzjvg0kmh().s[14]++;response.send(reply);}// La méthode pour afficher tous les contacts
function findall(request,response){cov_vzjvg0kmh().f[1]++;cov_vzjvg0kmh().s[15]++;response.send(contacts);}//la méthode pour ajouter un contact, la variable data prend les données saisies dans l'url et on la sauvegarde dans le fichier contact aprés
function addContact(request,response){cov_vzjvg0kmh().f[2]++;var data=(cov_vzjvg0kmh().s[16]++,request.params);cov_vzjvg0kmh().s[17]++;contacts.push(data);//on transforme contact en string pour pourvoir l'écrire dans le fichier json
var madata=(cov_vzjvg0kmh().s[18]++,JSON.stringify(contacts,null,2));cov_vzjvg0kmh().s[19]++;fs.writeFile('Contacts.json',madata,finished);function finished(err){cov_vzjvg0kmh().f[3]++;cov_vzjvg0kmh().s[20]++;console.log('Ajouté');}cov_vzjvg0kmh().s[21]++;response.send(contacts);}//La méthode pour mettre à jour un contact
function updateContact(req,res){cov_vzjvg0kmh().f[4]++;//on trouve le contact qu'on veut modifier par son nom et prenom écris dans l'url
var nom=(cov_vzjvg0kmh().s[22]++,req.params.nom);var prenom=(cov_vzjvg0kmh().s[23]++,req.params.prenom);var con=(cov_vzjvg0kmh().s[24]++,contacts.find((cov_vzjvg0kmh().b[0][0]++,con=>{cov_vzjvg0kmh().f[5]++;cov_vzjvg0kmh().s[25]++;return con.nom===name;})&&(cov_vzjvg0kmh().b[0][1]++,con=>{cov_vzjvg0kmh().f[6]++;cov_vzjvg0kmh().s[26]++;return con.prenom===prenom;})));//et on le met à jour avec le nouveau nom, prenom et numéro de télephone saisis dans l'url. Le mail est optionnel.
cov_vzjvg0kmh().s[27]++;con.nom=req.params.nnom;cov_vzjvg0kmh().s[28]++;con.prenom=req.params.nprenom;cov_vzjvg0kmh().s[29]++;con.tel=req.params.tel;cov_vzjvg0kmh().s[30]++;con.mail=req.params.mail;//on transforme contact en string pour pourvoir l'écrire dans le fichier json
var madata=(cov_vzjvg0kmh().s[31]++,JSON.stringify(contacts,null,2));cov_vzjvg0kmh().s[32]++;fs.writeFile('Contacts.json',madata,finished);function finished(err){cov_vzjvg0kmh().f[7]++;cov_vzjvg0kmh().s[33]++;console.log('Mis à jour');}cov_vzjvg0kmh().s[34]++;res.send(contacts);}//La méthode pour supprimer un contact
function deleteContact(req,res){cov_vzjvg0kmh().f[8]++;// on trouve le contact par son nom et prenom
var name=(cov_vzjvg0kmh().s[35]++,req.params.nom);var prenom=(cov_vzjvg0kmh().s[36]++,req.params.prenom);var con=(cov_vzjvg0kmh().s[37]++,contacts.find((cov_vzjvg0kmh().b[1][0]++,contact=>{cov_vzjvg0kmh().f[9]++;cov_vzjvg0kmh().s[38]++;return contact.nom===name;})&&(cov_vzjvg0kmh().b[1][1]++,contact=>{cov_vzjvg0kmh().f[10]++;cov_vzjvg0kmh().s[39]++;return contact.prenom===prenom;})));cov_vzjvg0kmh().s[40]++;if(con){cov_vzjvg0kmh().b[2][0]++;cov_vzjvg0kmh().s[41]++;// on met à jour les contacts en filtrant(enlévant) le contact qu'on ne veut plus
contacts=contacts.filter(contact=>{cov_vzjvg0kmh().f[11]++;cov_vzjvg0kmh().s[42]++;return contact!==con;});}else{cov_vzjvg0kmh().b[2][1]++;cov_vzjvg0kmh().s[43]++;res.send("Ce contact n'existe pas");}//on transforme contact en string pour pourvoir l'écrire dans le fichier json
var madata=(cov_vzjvg0kmh().s[44]++,JSON.stringify(contacts,null,2));cov_vzjvg0kmh().s[45]++;fs.writeFile('Contacts.json',madata,finished);function finished(err){cov_vzjvg0kmh().f[12]++;cov_vzjvg0kmh().s[46]++;console.log('Supprimé');}cov_vzjvg0kmh().s[47]++;res.send(contacts);}//La méthode pour chercher un contact précis
function searchContact(request,response){cov_vzjvg0kmh().f[13]++;// on cherche le contact qu'on veut trouver par son nom
var nom=(cov_vzjvg0kmh().s[48]++,request.params.nom);var con=(cov_vzjvg0kmh().s[49]++,contacts.find(con=>{cov_vzjvg0kmh().f[14]++;cov_vzjvg0kmh().s[50]++;return con.nom==nom;}));cov_vzjvg0kmh().s[51]++;if(con){cov_vzjvg0kmh().b[3][0]++;cov_vzjvg0kmh().s[52]++;response.send(con);}else{cov_vzjvg0kmh().b[3][1]++;cov_vzjvg0kmh().s[53]++;response.send("Ce contact n'existe pas");}}//on démarre le serveur dans le port 8080
function listening(){cov_vzjvg0kmh().f[15]++;cov_vzjvg0kmh().s[54]++;console.log('Server est en marche');}cov_vzjvg0kmh().s[55]++;server.listen(PORT,listening());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwic2VydmVyIiwiZnMiLCJQT1JUIiwiZGF0YSIsInJlYWRGaWxlU3luYyIsImNvbnRhY3RzIiwiSlNPTiIsInBhcnNlIiwidXNlIiwianNvbiIsImdldCIsImZpbmRhbGwiLCJtYWlubWVudSIsInBvc3QiLCJhZGRDb250YWN0Iiwic2VhcmNoQ29udGFjdCIsInB1dCIsInVwZGF0ZUNvbnRhY3QiLCJkZWxldGUiLCJkZWxldGVDb250YWN0IiwicmVxdWVzdCIsInJlc3BvbnNlIiwicmVwbHkiLCJzZW5kIiwicGFyYW1zIiwicHVzaCIsIm1hZGF0YSIsInN0cmluZ2lmeSIsIndyaXRlRmlsZSIsImZpbmlzaGVkIiwiZXJyIiwiY29uc29sZSIsImxvZyIsInJlcSIsInJlcyIsIm5vbSIsInByZW5vbSIsImNvbiIsImZpbmQiLCJuYW1lIiwibm5vbSIsIm5wcmVub20iLCJ0ZWwiLCJtYWlsIiwiY29udGFjdCIsImZpbHRlciIsImxpc3RlbmluZyIsImxpc3RlbiJdLCJtYXBwaW5ncyI6IjJzT0FlWTt5RkFmWjtBQUNBLEdBQUlBLENBQUFBLE9BQU8seUJBQUdDLE9BQU8sQ0FBQyxTQUFELENBQVYsQ0FBWCxDQUFpQztBQUNqQyxHQUFJQyxDQUFBQSxNQUFNLHlCQUFHRixPQUFPLEVBQVYsQ0FBVixDQUNBLEdBQUlHLENBQUFBLEVBQUUseUJBQUdGLE9BQU8sQ0FBQyxJQUFELENBQVYsQ0FBTixDQUF3QjtBQUN4QixLQUFNRyxDQUFBQSxJQUFJLHlCQUFHLElBQUgsQ0FBVixDQUFtQjtBQUVuQixHQUFJQyxDQUFBQSxJQUFJLHlCQUFFRixFQUFFLENBQUNHLFlBQUgsQ0FBZ0IsZUFBaEIsQ0FBRixDQUFSLENBQTJDO0FBQzNDLEdBQUlDLENBQUFBLFFBQVEseUJBQUdDLElBQUksQ0FBQ0MsS0FBTCxDQUFXSixJQUFYLENBQUgsQ0FBWixDQUFnQzt1QkFDaENILE1BQU0sQ0FBQ1EsR0FBUCxD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cUIsU0FBTCxDQUFldEIsUUFBZixDQUF3QixJQUF4QixDQUE2QixDQUE3QixDQUFELENBQVYsQ0FiNkIsd0JBYzdCSixFQUFFLENBQUMyQixTQUFILENBQWEsZUFBYixDQUE2QkYsTUFBN0IsQ0FBb0NHLFFBQXBDLEVBQ0EsUUFBU0EsQ0FBQUEsUUFBVCxDQUFrQkMsR0FBbEIsQ0FBc0IsaURBQ3BCQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxVQUFaLEVBQ0QsQ0FqQjRCLHdCQWtCN0JFLEdBQUcsQ0FBQ1gsSUFBSixDQUFTbEIsUUFBVCxFQUNELENBQ0Q7QUFDQSxRQUFTVSxDQUFBQSxhQUFULENBQXVCSyxPQUF2QixDQUErQkMsUUFBL0IsQ0FBd0MseUJBQ3RDO0FBQ0EsR0FBSWMsQ0FBQUEsR0FBRywwQkFBR2YsT0FBTyxDQUFDSSxNQUFSLENBQWVXLEdBQWxCLENBQVAsQ0FDQSxHQUFJRSxDQUFBQSxHQUFHLDBCQUFFaEMsUUFBUSxDQUFDaUMsSUFBVCxDQUFjRCxHQUFHLEVBQUcsdURBQUFBLENBQUFBLEdBQUcsQ0FBQ0YsR0FBSixFQUFTQSxHQUFULENBQVksQ0FBaEMsQ0FBRixDQUFQLENBSHNDLHdCQUl0QyxHQUFHRSxHQUFILENBQU8sbURBQ0xoQixRQUFRLENBQUNFLElBQVQsQ0FBY2MsR0FBZCxFQUNELENBRkQsSUFHSSxtREFDRmhCLFFBQVEsQ0FBQ0UsSUFBVCxDQUFjLHlCQUFkLEVBQ0QsQ0FDRixDQUNEO0FBQ0EsUUFBU3VCLENBQUFBLFNBQVQsRUFBb0IsaURBQ2xCZixPQUFPLENBQUNDLEdBQVIsQ0FBWSxzQkFBWixFQUNELEMsd0JBQ0RoQyxNQUFNLENBQUMrQyxNQUFQLENBQWM3QyxJQUFkLENBQW9CNEMsU0FBUyxFQUE3QiIsInNvdXJjZXNDb250ZW50IjpbIi8vaW1wb3J0c1xyXG52YXIgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTsvLyBvbiB1dGlsaXNlIGV4cHJlc3MgcG91ciBmYWNpbGl0ZXIgbGVzIGZvbmN0aW9ubmFsaXTDqXMgQVBJXHJcbnZhciBzZXJ2ZXIgPSBleHByZXNzKCk7XHJcbnZhciBmcyA9IHJlcXVpcmUoJ2ZzJyk7IC8vIG9uIHV0aWxpc2UgdW4gZmljaGllciBqc29uIHBvdXIgc2F1dmVnYXJkZXIgbGVzIGNvbnRhY3RzIGRvbmMgb24gYXMgYmVzb2luIGRlIGZzIGRlIG5vZGVqc1xyXG5jb25zdCBQT1JUID0gODA4MDsgLy8gb24gdXRpbGlzZSBsZSBwb3J0IDgwODAgbG9jYWxob3N0XHJcblxyXG52YXIgZGF0YT0gZnMucmVhZEZpbGVTeW5jKCdDb250YWN0cy5qc29uJyk7Ly8gb24gb3V2cmUgbm90cmUgZmljaGllciBjb250YWN0XHJcbnZhciBjb250YWN0cyA9IEpTT04ucGFyc2UoZGF0YSk7Ly8gb24gbGUgcGFyc2UgcG91ciBwb3V2b2lyIGxlIG1vZGlmaWVyXHJcbnNlcnZlci51c2UoZXhwcmVzcy5qc29uKCkpO1xyXG5cclxuLy8gbGVzIHJvdXRlcyBxdSdvbiB1dGlsaXNlIHBvdXIgZ8OpcmVyIG5vcyBjb250YWN0cyAuZ2V0IGMnZXN0IHBvdXIgY2hlcmNoZXIsIC5wb3N0IHBvdXIgYWpvdXRlciwgLnB1dCBwb3VyIG1ldHRyZSDDoCBqb3VyIGV0IC5kZWxldGUgcG91ciBzdXBwcmltZXJcclxuc2VydmVyLmdldCgnL2FsbCcsZmluZGFsbCk7XHJcbnNlcnZlci5nZXQoJy8nLCBtYWlubWVudSk7XHJcbnNlcnZlci5wb3N0KCcvYWRkLzpub20vOnByZW5vbS86dGVsLzptYWlsPycsIGFkZENvbnRhY3QpO1xyXG5zZXJ2ZXIuZ2V0KCcvc2VhcmNoLzpub20nLCBzZWFyY2hDb250YWN0KTtcclxuc2VydmVyLnB1dCgnL3VwZGF0ZS86bm9tLzpwcmVub20vOm5ub20vOm5wcmVub20vOnRlbC86bWFpbD8nLCB1cGRhdGVDb250YWN0KTtcclxuc2VydmVyLmRlbGV0ZSgnL2RlbGV0ZS86bm9tLzpwcmVub20nLGRlbGV0ZUNvbnRhY3QpO1xyXG5cclxuLy8gbm90cmUgbWVudSBwcmluY2lwYWxlLCBjZSBxdSdvbiB2YSB2b2lyIHF1YW5kIG9uIHZhIGxhbmNlciBsZSBzZXJ2ZXVyLlxyXG5mdW5jdGlvbiBtYWlubWVudShyZXF1ZXN0LHJlc3BvbnNlKXtcclxuICB2YXIgcmVwbHk7XHJcbiAgcmVwbHkgPSB7XHJcbiAgICBcIi9hbGxcIjogXCJBZmZpY2hlciB0b3VzIGxlcyBjb250YWN0c1wiLFxyXG4gICAgXCIvc2VhcmNoL25vbVwiIDogXCJBZmZpY2hlciB1biBjb250YWN0IHBhciBub20gXCIsXHJcbiAgICBcIi9kZWxldGUvbm9tL3ByZW5vbVwiOiBcIlN1cHByaW1lciB1biBjb250YWN0IFwiLFxyXG4gICAgXCIvYWRkL25vbS9wcmVub20vdGVsL21haWxcIiA6IFwiQWpvdXRlciB1biBjb250YWN0IFwiLFxyXG4gICAgXCIvdXBkYXRlL25vbS9wcmVub20vbm91dmVhdSBub20vbm91dmVhdSBwcmVub20vdGVsL21haWxcIjogXCJNZXR0cmUgw6Agam91ciB1biBjb250YWN0IFwiXHJcbiAgfVxyXG4gIHJlc3BvbnNlLnNlbmQocmVwbHkpO1xyXG59XHJcbi8vIExhIG3DqXRob2RlIHBvdXIgYWZmaWNoZXIgdG91cyBsZXMgY29udGFjdHNcclxuZnVuY3Rpb24gZmluZGFsbChyZXF1ZXN0LHJlc3BvbnNlKXtcclxuICByZXNwb25zZS5zZW5kKGNvbnRhY3RzKTtcclxufVxyXG4vL2xhIG3DqXRob2RlIHBvdXIgYWpvdXRlciB1biBjb250YWN0LCBsYSB2YXJpYWJsZSBkYXRhIHByZW5kIGxlcyBkb25uw6llcyBzYWlzaWVzIGRhbnMgbCd1cmwgZXQgb24gbGEgc2F1dmVnYXJkZSBkYW5zIGxlIGZpY2hpZXIgY29udGFjdCBhcHLDqXNcclxuZnVuY3Rpb24gYWRkQ29udGFjdChyZXF1ZXN0LHJlc3BvbnNlKXtcclxuICB2YXIgZGF0YSA9IHJlcXVlc3QucGFyYW1zO1xyXG4gIGNvbnRhY3RzLnB1c2goZGF0YSk7XHJcbiAgLy9vbiB0cmFuc2Zvcm1lIGNvbnRhY3QgZW4gc3RyaW5nIHBvdXIgcG91cnZvaXIgbCfDqWNyaXJlIGRhbnMgbGUgZmljaGllciBqc29uXHJcbiAgdmFyIG1hZGF0YT1KU09OLnN0cmluZ2lmeShjb250YWN0cyxudWxsLDIpO1xyXG4gIGZzLndyaXRlRmlsZSgnQ29udGFjdHMuanNvbicsbWFkYXRhLGZpbmlzaGVkKTtcclxuICBmdW5jdGlvbiBmaW5pc2hlZChlcnIpe1xyXG4gICAgY29uc29sZS5sb2coJ0Fqb3V0w6knKTtcclxuICB9XHJcbiAgcmVzcG9uc2Uuc2VuZChjb250YWN0cyk7XHJcbn1cclxuLy9MYSBtw6l0aG9kZSBwb3VyIG1ldHRyZSDDoCBqb3VyIHVuIGNvbnRhY3RcclxuZnVuY3Rpb24gdXBkYXRlQ29udGFjdChyZXEscmVzKXtcclxuLy9vbiB0cm91dmUgbGUgY29udGFjdCBxdSdvbiB2ZXV0IG1vZGlmaWVyIHBhciBzb24gbm9tIGV0IHByZW5vbSDDqWNyaXMgZGFucyBsJ3VybFxyXG52YXIgbm9tID1yZXEucGFyYW1zLm5vbTtcclxudmFyIHByZW5vbSA9IHJlcS5wYXJhbXMucHJlbm9tO1xyXG52YXIgY29uID0gY29udGFjdHMuZmluZCgoY29uID0+IGNvbi5ub209PT1uYW1lKSAmJiAoY29uID0+IGNvbi5wcmVub209PT1wcmVub20pKTtcclxuLy9ldCBvbiBsZSBtZXQgw6Agam91ciBhdmVjIGxlIG5vdXZlYXUgbm9tLCBwcmVub20gZXQgbnVtw6lybyBkZSB0w6lsZXBob25lIHNhaXNpcyBkYW5zIGwndXJsLiBMZSBtYWlsIGVzdCBvcHRpb25uZWwuXHJcbmNvbi5ub209cmVxLnBhcmFtcy5ubm9tO1xyXG5jb24ucHJlbm9tPXJlcS5wYXJhbXMubnByZW5vbTtcclxuY29uLnRlbD1yZXEucGFyYW1zLnRlbDtcclxuY29uLm1haWw9cmVxLnBhcmFtcy5tYWlsO1xyXG4vL29uIHRyYW5zZm9ybWUgY29udGFjdCBlbiBzdHJpbmcgcG91ciBwb3Vydm9pciBsJ8OpY3JpcmUgZGFucyBsZSBmaWNoaWVyIGpzb25cclxudmFyIG1hZGF0YT1KU09OLnN0cmluZ2lmeShjb250YWN0cyxudWxsLDIpO1xyXG5mcy53cml0ZUZpbGUoJ0NvbnRhY3RzLmpzb24nLG1hZGF0YSxmaW5pc2hlZCk7XHJcbmZ1bmN0aW9uIGZpbmlzaGVkKGVycil7XHJcbiAgY29uc29sZS5sb2coJ01pcyDDoCBqb3VyJyk7XHJcbn1cclxucmVzLnNlbmQoY29udGFjdHMpO1xyXG59XHJcbi8vTGEgbcOpdGhvZGUgcG91ciBzdXBwcmltZXIgdW4gY29udGFjdFxyXG5mdW5jdGlvbiBkZWxldGVDb250YWN0KHJlcSxyZXMpe1xyXG4gIC8vIG9uIHRyb3V2ZSBsZSBjb250YWN0IHBhciBzb24gbm9tIGV0IHByZW5vbVxyXG4gIHZhciBuYW1lID0gcmVxLnBhcmFtcy5ub207XHJcbiAgdmFyIHByZW5vbSA9IHJlcS5wYXJhbXMucHJlbm9tXHJcbiAgdmFyIGNvbiA9IGNvbnRhY3RzLmZpbmQoKGNvbnRhY3QgPT4gY29udGFjdC5ub209PT1uYW1lKSAmJiAoY29udGFjdCA9PiBjb250YWN0LnByZW5vbT09PXByZW5vbSkpO1xyXG4gIGlmKGNvbil7XHJcbiAgICAvLyBvbiBtZXQgw6Agam91ciBsZXMgY29udGFjdHMgZW4gZmlsdHJhbnQoZW5sw6l2YW50KSBsZSBjb250YWN0IHF1J29uIG5lIHZldXQgcGx1c1xyXG4gICAgICBjb250YWN0cz0gY29udGFjdHMuZmlsdGVyKChjb250YWN0KT0+Y29udGFjdCE9PWNvbik7XHJcbiAgfVxyXG4gIGVsc2Uge1xyXG4gICAgcmVzLnNlbmQoXCJDZSBjb250YWN0IG4nZXhpc3RlIHBhc1wiKTtcclxuICB9XHJcbiAgLy9vbiB0cmFuc2Zvcm1lIGNvbnRhY3QgZW4gc3RyaW5nIHBvdXIgcG91cnZvaXIgbCfDqWNyaXJlIGRhbnMgbGUgZmljaGllciBqc29uXHJcbiAgdmFyIG1hZGF0YT1KU09OLnN0cmluZ2lmeShjb250YWN0cyxudWxsLDIpO1xyXG4gIGZzLndyaXRlRmlsZSgnQ29udGFjdHMuanNvbicsbWFkYXRhLGZpbmlzaGVkKTtcclxuICBmdW5jdGlvbiBmaW5pc2hlZChlcnIpe1xyXG4gICAgY29uc29sZS5sb2coJ1N1cHByaW3DqScpO1xyXG4gIH1cclxuICByZXMuc2VuZChjb250YWN0cyk7XHJcbn1cclxuLy9MYSBtw6l0aG9kZSBwb3VyIGNoZXJjaGVyIHVuIGNvbnRhY3QgcHLDqWNpc1xyXG5mdW5jdGlvbiBzZWFyY2hDb250YWN0KHJlcXVlc3QscmVzcG9uc2Upe1xyXG4gIC8vIG9uIGNoZXJjaGUgbGUgY29udGFjdCBxdSdvbiB2ZXV0IHRyb3V2ZXIgcGFyIHNvbiBub21cclxuICB2YXIgbm9tID0gcmVxdWVzdC5wYXJhbXMubm9tO1xyXG4gIHZhciBjb249IGNvbnRhY3RzLmZpbmQoY29uPT4gY29uLm5vbT09bm9tKTtcclxuICBpZihjb24pe1xyXG4gICAgcmVzcG9uc2Uuc2VuZChjb24pO1xyXG4gIH1cclxuICBlbHNle1xyXG4gICAgcmVzcG9uc2Uuc2VuZChcIkNlIGNvbnRhY3QgbidleGlzdGUgcGFzXCIpO1xyXG4gIH1cclxufVxyXG4vL29uIGTDqW1hcnJlIGxlIHNlcnZldXIgZGFucyBsZSBwb3J0IDgwODBcclxuZnVuY3Rpb24gbGlzdGVuaW5nKCl7XHJcbiAgY29uc29sZS5sb2coJ1NlcnZlciBlc3QgZW4gbWFyY2hlJyk7XHJcbn1cclxuc2VydmVyLmxpc3RlbihQT1JULCBsaXN0ZW5pbmcoKSk7XHJcbiJdfQ==